<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1100 400" font-family="'Segoe UI', system-ui, sans-serif">
  <defs>
    <marker id="arrowN" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#1F4E79"/>
    </marker>
    <marker id="arrowR" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#D4380D"/>
    </marker>
    <marker id="arrowT" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#2A7F62"/>
    </marker>
    <filter id="shadow" x="-5%" y="-5%" width="115%" height="115%">
      <feDropShadow dx="0" dy="1" stdDeviation="3" flood-color="#000" flood-opacity="0.1"/>
    </filter>
    <linearGradient id="hGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="#1F4E79"/>
      <stop offset="100%" stop-color="#2A7F62"/>
    </linearGradient>
  </defs>

  <rect width="1100" height="400" fill="#f9fafb" rx="12"/>

  <text x="550" y="38" text-anchor="middle" fill="#2C3E50" font-size="18" font-weight="700" letter-spacing="0.5">Privacy by Design ‚Äî PII Tokenization in the Transcript Pipeline</text>
  <line x1="270" y1="48" x2="830" y2="48" stroke="url(#hGrad)" stroke-width="2" opacity="0.4"/>

  <!-- Raw transcript with PII -->
  <rect x="30" y="80" width="230" height="160" rx="10" fill="#D4380D" opacity="0.9" filter="url(#shadow)"/>
  <text x="145" y="105" text-anchor="middle" fill="#ffffff" font-size="11" font-weight="700">üîì RAW TRANSCRIPT</text>
  <line x1="50" y1="115" x2="240" y2="115" stroke="#ffffff" stroke-width="0.5" opacity="0.3"/>
  <text x="145" y="135" text-anchor="middle" fill="#ffe0d0" font-size="9">"My name is John Smith,</text>
  <text x="145" y="150" text-anchor="middle" fill="#ffe0d0" font-size="9">SSN 123-45-6789,</text>
  <text x="145" y="165" text-anchor="middle" fill="#ffe0d0" font-size="9">born 03/15/1985.</text>
  <text x="145" y="180" text-anchor="middle" fill="#ffe0d0" font-size="9">Card ending 4532.</text>
  <text x="145" y="195" text-anchor="middle" fill="#ffe0d0" font-size="9">I'm upset about my</text>
  <text x="145" y="210" text-anchor="middle" fill="#ffe0d0" font-size="9">payment being late."</text>
  <text x="145" y="230" text-anchor="middle" fill="#ffc8b0" font-size="8" font-style="italic">‚ö† Contains SSN, DOB, Card#</text>

  <!-- Arrow -->
  <line x1="260" y1="160" x2="310" y2="160" stroke="#D4380D" stroke-width="2" marker-end="url(#arrowR)"/>

  <!-- Tokenization Engine -->
  <rect x="315" y="80" width="230" height="160" rx="10" fill="#2C3E50" filter="url(#shadow)"/>
  <text x="430" y="105" text-anchor="middle" fill="#ffffff" font-size="11" font-weight="700">üîí TOKENIZATION ENGINE</text>
  <line x1="335" y1="115" x2="525" y2="115" stroke="#ffffff" stroke-width="0.5" opacity="0.3"/>
  <text x="430" y="138" text-anchor="middle" fill="#e0e7ff" font-size="9">Pattern Detection:</text>
  <text x="430" y="155" text-anchor="middle" fill="#e0e7ff" font-size="9">SSN: \d{3}-\d{2}-\d{4}</text>
  <text x="430" y="170" text-anchor="middle" fill="#e0e7ff" font-size="9">DOB: \d{2}/\d{2}/\d{4}</text>
  <text x="430" y="185" text-anchor="middle" fill="#e0e7ff" font-size="9">Card: \d{4,16}</text>
  <text x="430" y="205" text-anchor="middle" fill="#94a3b8" font-size="8" font-style="italic">Regex + NER-based detection</text>
  <text x="430" y="220" text-anchor="middle" fill="#94a3b8" font-size="8" font-style="italic">one-way token replacement</text>

  <!-- Arrow -->
  <line x1="545" y1="160" x2="595" y2="160" stroke="#2C3E50" stroke-width="2" marker-end="url(#arrowN)"/>

  <!-- Tokenized Output -->
  <rect x="600" y="80" width="230" height="160" rx="10" fill="#2A7F62" filter="url(#shadow)"/>
  <text x="715" y="105" text-anchor="middle" fill="#ffffff" font-size="11" font-weight="700">üîê TOKENIZED TRANSCRIPT</text>
  <line x1="620" y1="115" x2="810" y2="115" stroke="#ffffff" stroke-width="0.5" opacity="0.3"/>
  <text x="715" y="135" text-anchor="middle" fill="#d0f0e0" font-size="9">"My name is [TOKEN_NAME],</text>
  <text x="715" y="150" text-anchor="middle" fill="#d0f0e0" font-size="9">SSN [TOKEN_SSN],</text>
  <text x="715" y="165" text-anchor="middle" fill="#d0f0e0" font-size="9">born [TOKEN_DOB].</text>
  <text x="715" y="180" text-anchor="middle" fill="#d0f0e0" font-size="9">Card ending [TOKEN_CARD].</text>
  <text x="715" y="195" text-anchor="middle" fill="#d0f0e0" font-size="9">I'm upset about my</text>
  <text x="715" y="210" text-anchor="middle" fill="#d0f0e0" font-size="9">payment being late."</text>
  <text x="715" y="230" text-anchor="middle" fill="#a0d8c0" font-size="8" font-style="italic">‚úì Sentiment preserved, PII removed</text>

  <!-- Arrow to Model -->
  <line x1="830" y1="160" x2="880" y2="160" stroke="#2A7F62" stroke-width="2" marker-end="url(#arrowT)"/>

  <!-- ML Model -->
  <rect x="885" y="95" width="180" height="130" rx="10" fill="#1F4E79" filter="url(#shadow)"/>
  <text x="975" y="125" text-anchor="middle" fill="#ffffff" font-size="11" font-weight="700">ML MODEL</text>
  <line x1="905" y1="135" x2="1045" y2="135" stroke="#ffffff" stroke-width="0.5" opacity="0.3"/>
  <text x="975" y="158" text-anchor="middle" fill="#e0e7ff" font-size="9">No untokenization</text>
  <text x="975" y="173" text-anchor="middle" fill="#e0e7ff" font-size="9">PII not needed for</text>
  <text x="975" y="188" text-anchor="middle" fill="#e0e7ff" font-size="9">complaint detection</text>
  <text x="975" y="212" text-anchor="middle" fill="#94a3b8" font-size="8" font-style="italic">privacy preserved</text>

  <!-- Bottom callout -->
  <rect x="100" y="280" width="900" height="95" rx="10" fill="#f0f4f8" stroke="#e2e8f0" stroke-width="1"/>
  <text x="550" y="308" text-anchor="middle" fill="#1F4E79" font-size="13" font-weight="700">Key Design Principle</text>
  <text x="550" y="330" text-anchor="middle" fill="#2C3E50" font-size="11">The model never requires access to actual PII values. Complaint signal words ("upset", "frustrated", "escalate")</text>
  <text x="550" y="348" text-anchor="middle" fill="#2C3E50" font-size="11">carry the classification weight, not customer identifiers. Tokenization is irreversible at the model layer ‚Äî</text>
  <text x="550" y="366" text-anchor="middle" fill="#2C3E50" font-size="11">even if the model were compromised, no sensitive data could be extracted.</text>
</svg>

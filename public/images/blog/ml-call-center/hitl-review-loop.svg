<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1100 450" font-family="'Segoe UI', system-ui, sans-serif">
  <defs>
    <marker id="arrowN" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#1F4E79"/>
    </marker>
    <marker id="arrowT" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#2A7F62"/>
    </marker>
    <marker id="arrowC" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#2C3E50"/>
    </marker>
    <marker id="arrowR" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#D4380D"/>
    </marker>
    <filter id="shadow" x="-5%" y="-5%" width="115%" height="115%">
      <feDropShadow dx="0" dy="1" stdDeviation="3" flood-color="#000" flood-opacity="0.1"/>
    </filter>
    <linearGradient id="hGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="#1F4E79"/>
      <stop offset="100%" stop-color="#2A7F62"/>
    </linearGradient>
  </defs>

  <rect width="1100" height="450" fill="#f9fafb" rx="12"/>

  <text x="550" y="38" text-anchor="middle" fill="#2C3E50" font-size="18" font-weight="700" letter-spacing="0.5">Human-in-the-Loop — QA Review &amp; Model Feedback Cycle</text>
  <line x1="280" y1="48" x2="820" y2="48" stroke="url(#hGrad)" stroke-width="2" opacity="0.4"/>

  <!-- Step 1: Model Output -->
  <rect x="30" y="80" width="200" height="110" rx="10" fill="#1F4E79" filter="url(#shadow)"/>
  <text x="130" y="108" text-anchor="middle" fill="#ffffff" font-size="11" font-weight="700">MODEL SCORING</text>
  <line x1="50" y1="118" x2="210" y2="118" stroke="#ffffff" stroke-width="0.5" opacity="0.3"/>
  <text x="130" y="140" text-anchor="middle" fill="#e0e7ff" font-size="9">Daily batch execution</text>
  <text x="130" y="155" text-anchor="middle" fill="#e0e7ff" font-size="9">Score all new calls</text>
  <text x="130" y="170" text-anchor="middle" fill="#e0e7ff" font-size="9">Rank by probability</text>
  <text x="130" y="183" text-anchor="middle" fill="#94a3b8" font-size="8" font-style="italic">~485 calls/day flagged</text>

  <line x1="230" y1="135" x2="275" y2="135" stroke="#1F4E79" stroke-width="2" marker-end="url(#arrowN)"/>

  <!-- Step 2: QMS Queue -->
  <rect x="280" y="80" width="200" height="110" rx="10" fill="#2C3E50" filter="url(#shadow)"/>
  <text x="380" y="108" text-anchor="middle" fill="#ffffff" font-size="11" font-weight="700">QMS DELIVERY</text>
  <line x1="300" y1="118" x2="460" y2="118" stroke="#ffffff" stroke-width="0.5" opacity="0.3"/>
  <text x="380" y="140" text-anchor="middle" fill="#e0e7ff" font-size="9">Top-scored calls queued</text>
  <text x="380" y="155" text-anchor="middle" fill="#e0e7ff" font-size="9">3-day processing lag</text>
  <text x="380" y="170" text-anchor="middle" fill="#e0e7ff" font-size="9">Auto-delivered to agents</text>
  <text x="380" y="183" text-anchor="middle" fill="#94a3b8" font-size="8" font-style="italic">QMS picks up /DATA/download/</text>

  <line x1="480" y1="135" x2="525" y2="135" stroke="#2C3E50" stroke-width="2" marker-end="url(#arrowC)"/>

  <!-- Step 3: Agent Review -->
  <rect x="530" y="80" width="200" height="110" rx="10" fill="#2A7F62" filter="url(#shadow)"/>
  <text x="630" y="108" text-anchor="middle" fill="#ffffff" font-size="11" font-weight="700">AGENT REVIEW</text>
  <line x1="550" y1="118" x2="710" y2="118" stroke="#ffffff" stroke-width="0.5" opacity="0.3"/>
  <text x="630" y="140" text-anchor="middle" fill="#d0f0e0" font-size="9">Listen to flagged calls</text>
  <text x="630" y="155" text-anchor="middle" fill="#d0f0e0" font-size="9">Apply verified label</text>
  <text x="630" y="170" text-anchor="middle" fill="#d0f0e0" font-size="9">Add agent notes</text>
  <text x="630" y="183" text-anchor="middle" fill="#a0d8c0" font-size="8" font-style="italic">307/485 reviewed (63%)</text>

  <line x1="730" y1="135" x2="775" y2="135" stroke="#2A7F62" stroke-width="2" marker-end="url(#arrowT)"/>

  <!-- Step 4: Classification -->
  <rect x="780" y="70" width="280" height="130" rx="10" fill="#f0f4f8" stroke="#e2e8f0" stroke-width="1" filter="url(#shadow)"/>
  <text x="920" y="95" text-anchor="middle" fill="#2C3E50" font-size="11" font-weight="700">REVIEW OUTCOMES</text>
  <line x1="800" y1="105" x2="1040" y2="105" stroke="#e2e8f0" stroke-width="1"/>

  <!-- True Positive -->
  <rect x="800" y="115" width="120" height="35" rx="6" fill="#2A7F62"/>
  <text x="860" y="137" text-anchor="middle" fill="#ffffff" font-size="9" font-weight="600">✓ COMPLAINT</text>

  <!-- Feedback -->
  <rect x="930" y="115" width="120" height="35" rx="6" fill="#1F4E79"/>
  <text x="990" y="137" text-anchor="middle" fill="#ffffff" font-size="9" font-weight="600">ℹ FEEDBACK</text>

  <!-- False Positive -->
  <rect x="800" y="158" width="120" height="35" rx="6" fill="#D4380D" opacity="0.85"/>
  <text x="860" y="180" text-anchor="middle" fill="#ffffff" font-size="9" font-weight="600">✗ FALSE POS.</text>

  <!-- Metrics -->
  <rect x="930" y="158" width="120" height="35" rx="6" fill="#f9fafb" stroke="#2C3E50" stroke-width="1"/>
  <text x="990" y="175" text-anchor="middle" fill="#2A7F62" font-size="11" font-weight="700">>95%</text>
  <text x="990" y="188" text-anchor="middle" fill="#2C3E50" font-size="8">Recall</text>

  <!-- Row 2: Tableau Dashboard -->
  <rect x="280" y="240" width="450" height="90" rx="10" fill="#1F4E79" filter="url(#shadow)"/>
  <text x="505" y="268" text-anchor="middle" fill="#ffffff" font-size="12" font-weight="700">TABLEAU TRACKING DASHBOARD</text>
  <line x1="350" y1="278" x2="660" y2="278" stroke="#ffffff" stroke-width="0.5" opacity="0.3"/>
  <text x="400" y="298" text-anchor="middle" fill="#e0e7ff" font-size="10">Missed Complaints:</text>
  <text x="400" y="315" text-anchor="middle" fill="#ffffff" font-size="16" font-weight="700">2</text>
  <text x="505" y="298" text-anchor="middle" fill="#e0e7ff" font-size="10">Missed Feedback:</text>
  <text x="505" y="315" text-anchor="middle" fill="#ffffff" font-size="16" font-weight="700">28</text>
  <text x="620" y="298" text-anchor="middle" fill="#e0e7ff" font-size="10">Review Rate:</text>
  <text x="620" y="315" text-anchor="middle" fill="#ffffff" font-size="16" font-weight="700">63%</text>

  <!-- Arrow from review to dashboard -->
  <line x1="630" y1="190" x2="505" y2="238" stroke="#2C3E50" stroke-width="1.5" stroke-dasharray="6,3" marker-end="url(#arrowC)"/>

  <!-- Feedback loop back to model -->
  <rect x="280" y="360" width="450" height="70" rx="10" fill="#D4380D" opacity="0.85" filter="url(#shadow)"/>
  <text x="505" y="388" text-anchor="middle" fill="#ffffff" font-size="12" font-weight="700">MODEL RETRAINING SIGNAL</text>
  <text x="505" y="408" text-anchor="middle" fill="#ffe0d0" font-size="10">False positives and missed complaints feed back into training data to reduce drift</text>
  <text x="505" y="422" text-anchor="middle" fill="#ffc8b0" font-size="9" font-style="italic">One-time model with low refitting cost — retrain only when performance degrades</text>

  <!-- Arrow from dashboard to retrain -->
  <line x1="505" y1="332" x2="505" y2="358" stroke="#D4380D" stroke-width="2" marker-end="url(#arrowR)"/>

  <!-- Arrow from retrain back to model -->
  <path d="M 280 395 L 130 395 L 130 195" stroke="#D4380D" stroke-width="1.5" fill="none" stroke-dasharray="6,3" marker-end="url(#arrowR)"/>
  <text x="130" y="300" text-anchor="middle" fill="#D4380D" font-size="8" font-weight="600" transform="rotate(-90,130,300)">RETRAIN LOOP</text>
</svg>
